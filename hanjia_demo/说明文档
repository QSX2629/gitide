hanjia_demo
GO语言简单传统知乎社区
**项目亮点**:
1.日志管理与配置管理：使用viper和zap
2.角色管理用户：使用JWT鉴权，实现用户的禁言与解除禁言
3.搜索功能：使用MySQL索引实现搜索功能
**技术实现**：
1. 配置管理（Viper）
核心文件：utils_viper/config.go
实现逻辑：
读取config.yaml配置文件，解析到结构化对象；
监听配置文件变化，触发热更新回调；
读写锁保证多线程下配置读取的线程安全。
2.日志管理（Zap）
核心文件：utils_log/logger.go
实现逻辑：
区分开发 / 生产环境，分别使用控制台 / JSON 编码器；
集成 lumberjack 实现日志自动切割、压缩、清理；
支持日志级别热更新，无需重启服务。
3.JWT
配置联动：JWT 密钥、过期时间从 Viper 配置读取，支持热更新；
权限分级：通过 Claims 中的common/admin字段区分管理员 / 普通用户，实现接口权限控制；
状态拦截：鉴权时校验用户禁言状态，禁言用户无法访问发布 / 评论等核心接口；
4.MySQL索引
通过用户/文章id进行搜索
